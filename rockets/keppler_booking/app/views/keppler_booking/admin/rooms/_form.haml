= simple_form_for [:admin, :booking, @room] do |f|
  .container
    .row
      .col-lg-2
        = link_to admin_booking_rooms_path, 'data-position': 'bottom', 'data-tooltip': t('keppler.actions.back') do
          .arrow-back.btn.btn-default
            %i.fa.fa-angle-left
            = t('keppler.actions.back')

    .row
      .col-lg-12
        .box.slice-box
          .box-header.with-border
            %h3.box-title= t('keppler.models.pluralize.rooms').humanize
            .box-tools.pull-right
              %a.btn.btn-box-tool{'data-widget': 'collapse', type: 'button'}
                %i.fa.fa-minus
          .box-body
            %table.table.table-bordered
              %tbody
                .form-padding
                  .col-xs-12
                    = f.input :name, as: :string
                  .col-xs-12
                    = f.input :description_small, as: :string
                  .col-xs-12
                    = f.input :description_big, as: :ckeditor, input_html: { ckeditor: { toolbar: 'mini' } }
                  .col-xs-12
                    %input#userinput.form-control{pattern: "[0-9]*", type: "text"}
                  .col-xs-12
                    = f.input :cover, as: :keppler_file # , max_size: 225
                  .col-xs-12
                    = link_to_add_association '+ Añadir imagen', f, :images, class: "btn btn-primary btn-file btn-cocoon"
                  .col-xs-12
                    = f.simple_fields_for :images do |c|
                      = render 'image_fields', :f => c
                  .col-xs-12
                    = link_to_add_association '+ Añadir Precio', f, :prices_rooms, class: "btn btn-primary btn-file btn-cocoon"
                  .col-xs-12								
                    = f.simple_fields_for :prices_rooms do |c|
                      = render 'prices_room_fields', :f => c
                  .col-xs-12
                    %label.control-label.ckeditor.required{for: "room_description_big"}
                      Servicios
                    %select.js-example-basic-multiple.form-control{multiple: "multiple", name: "room[service_ids][]"}
                      - @services.each do |s|
                        %option{value: s.id, selected: @room.service_ids.include?("#{s.id}") ? true : false}= s.name
                  .col-xs-2
                    = f.input :lock, as: :keppler_boolean
                  .col-xs-2
                    = f.input :public, as: :keppler_boolean 
                  .col-xs-12
                    .pull-right
                      = f.button :submit, t('keppler.actions.save'), name: '_save', class: 'btn-primary'
                      = f.button :submit, t('keppler.actions.save_and_add_another'), name: '_add_other'
:javascript
  $(document).ready(function() {
    $('.js-example-basic-multiple').select2();
  });
  document.getElementById("userinput").onchange =function (){    

    //number-format the user input
    this.value = parseFloat(this.value.replace(/,/g, ""))
                    .toFixed(2)
                    .toString()
                    .replace(/\B(?=(\d{3})+(?!\d))/g, ",");
  }
:scss
  .select2-selection__choice{
    color: black !important;
  }
  .select2-selection{
    border-radius: 15px !important;
    padding: 1px !important;
    border-color: #d2d6de !important;
  }